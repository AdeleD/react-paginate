{"version":3,"sources":["../react_components/PaginationBoxView.js"],"names":[],"mappings":"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","file":"PaginationBoxView.js","sourcesContent":["'use strict';\n\nimport React, { Component, PropTypes } from 'react';\nimport classNames from 'classnames';\n\nimport createFragment from 'react-addons-create-fragment';\nimport PageView from './PageView';\nimport BreakView from './BreakView';\n\n\nexport default class PaginationBoxView extends Component {\n  static propTypes = {\n    pageNum               : PropTypes.number.isRequired,\n    pageRangeDisplayed    : PropTypes.number.isRequired,\n    marginPagesDisplayed  : PropTypes.number.isRequired,\n    previousLabel         : PropTypes.node,\n    nextLabel             : PropTypes.node,\n    breakLabel            : PropTypes.node,\n    clickCallback         : PropTypes.func,\n    linkBuilder           : PropTypes.func,\n    initialSelected       : PropTypes.number,\n    forceSelected         : PropTypes.number,\n    containerClassName    : PropTypes.string,\n    pageClassName         : PropTypes.string,\n    pageLinkClassName     : PropTypes.string,\n    activeClassName       : PropTypes.string,\n    previousClassName     : PropTypes.string,\n    nextClassName         : PropTypes.string,\n    previousLinkClassName : PropTypes.string,\n    nextLinkClassName     : PropTypes.string,\n    disabledClassName     : PropTypes.string\n  };\n\n  static defaultProps = {\n    pageNum              : 10,\n    pageRangeDisplayed   : 2,\n    marginPagesDisplayed : 3,\n    activeClassName      : \"selected\",\n    previousClassName    : \"previous\",\n    nextClassName        : \"next\",\n    previousLabel        : \"Previous\",\n    nextLabel            : \"Next\",\n    breakLabel           : \"...\",\n    disabledClassName    : \"disabled\"\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selected: props.initialSelected ? props.initialSelected :\n                props.forceSelected   ? props.forceSelected :\n                0\n    };\n  }\n\n  componentDidMount() {\n    // Call the callback with the initialSelected item:\n    if (typeof(this.props.initialSelected) !== 'undefined') {\n      this.callCallback(this.props.initialSelected);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (typeof(nextProps.forceSelected) !== 'undefined' && this.props.forceSelected !== nextProps.forceSelected) {\n      this.setState({selected: nextProps.forceSelected});\n    }\n  }\n\n  handlePreviousPage = evt => {\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n    if (this.state.selected > 0) {\n      this.handlePageSelected(this.state.selected - 1, evt);\n    }\n  };\n\n  handleNextPage = evt => {\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n    if (this.state.selected < this.props.pageNum - 1) {\n      this.handlePageSelected(this.state.selected + 1, evt);\n    }\n  };\n\n  handlePageSelected = (selected, evt) => {\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n\n    if (this.state.selected === selected) return;\n\n    this.setState({selected: selected});\n\n    // Call the callback with the new selected item:\n    this.callCallback(selected);\n  };\n\n  linkBuilder(pageIndex) {\n    if (this.props.linkBuilder &&\n      pageIndex !== this.state.selected &&\n      pageIndex >= 0 &&\n      pageIndex < this.props.pageNum\n    ) {\n      return this.props.linkBuilder(pageIndex + 1);\n    }\n  }\n\n  callCallback = (selectedItem) => {\n    if (typeof(this.props.clickCallback) !== \"undefined\" &&\n        typeof(this.props.clickCallback) === \"function\") {\n      this.props.clickCallback({selected: selectedItem});\n    }\n  };\n\n  getPageElement(index) {\n    return <PageView\n      onClick={this.handlePageSelected.bind(null, index)}\n      selected={this.state.selected === index}\n      pageClassName={this.props.pageClassName}\n      pageLinkClassName={this.props.pageLinkClassName}\n      activeClassName={this.props.activeClassName}\n      href={this.linkBuilder(index)}\n      page={index + 1} />\n  }\n\n  pagination = () => {\n    let items = {};\n\n    if (this.props.pageNum <= this.props.pageRangeDisplayed) {\n\n      for (let index = 0; index < this.props.pageNum; index++) {\n        items['key' + index] = this.getPageElement(index);\n      }\n\n    } else {\n\n      let leftSide  = (this.props.pageRangeDisplayed / 2);\n      let rightSide = (this.props.pageRangeDisplayed - leftSide);\n\n      if (this.state.selected > this.props.pageNum - this.props.pageRangeDisplayed / 2) {\n        rightSide = this.props.pageNum - this.state.selected;\n        leftSide  = this.props.pageRangeDisplayed - rightSide;\n      }\n      else if (this.state.selected < this.props.pageRangeDisplayed / 2) {\n        leftSide  = this.state.selected;\n        rightSide = this.props.pageRangeDisplayed - leftSide;\n      }\n\n      let index;\n      let page;\n      let breakView;\n\n      for (index = 0; index < this.props.pageNum; index++) {\n\n        page = index + 1;\n\n        let pageView = this.getPageElement(index);\n\n        if (page <= this.props.marginPagesDisplayed) {\n          items['key' + index] = pageView;\n          continue;\n        }\n\n        if (page > this.props.pageNum - this.props.marginPagesDisplayed) {\n          items['key' + index] = pageView;\n          continue;\n        }\n\n        if ((index >= this.state.selected - leftSide) && (index <= this.state.selected + rightSide)) {\n          items['key' + index] = pageView;\n          continue;\n        }\n\n        let keys            = Object.keys(items);\n        let breakLabelKey   = keys[keys.length - 1];\n        let breakLabelValue = items[breakLabelKey];\n\n        if (this.props.breakLabel && breakLabelValue !== breakView) {\n          breakView = (\n            <BreakView breakLabel={this.props.breakLabel} />\n          );\n\n          items['key' + index] = breakView;\n        }\n      }\n    }\n\n    return items;\n  };\n\n  render() {\n    let disabled = this.props.disabledClassName;\n\n    const previousClasses = classNames(this.props.previousClassName,\n                                       {[disabled]: this.state.selected === 0});\n\n    const nextClasses = classNames(this.props.nextClassName,\n                                   {[disabled]: this.state.selected === this.props.pageNum - 1});\n\n    return (\n      <ul className={this.props.containerClassName}>\n        <li onClick={this.handlePreviousPage} className={previousClasses}>\n          <a className={this.props.previousLinkClassName} href={this.linkBuilder(this.state.selected - 1)}>\n            {this.props.previousLabel}\n          </a>\n        </li>\n\n        {createFragment(this.pagination())}\n\n        <li onClick={this.handleNextPage} className={nextClasses}>\n          <a className={this.props.nextLinkClassName} href={this.linkBuilder(this.state.selected + 1)}>\n            {this.props.nextLabel}\n          </a>\n        </li>\n      </ul>\n    );\n  }\n};\n"]}