{"version":3,"sources":["../react_components/PaginationBoxView.js"],"names":[],"mappings":"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","file":"PaginationBoxView.js","sourcesContent":["'use strict';\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport createFragment from 'react-addons-create-fragment';\r\nimport PageView from './PageView';\r\nimport BreakView from './BreakView';\r\n\r\n\r\nexport default class PaginationBoxView extends Component {\r\n  static propTypes = {\r\n    pageNum               : PropTypes.number.isRequired,\r\n    pageRangeDisplayed    : PropTypes.number.isRequired,\r\n    marginPagesDisplayed  : PropTypes.number.isRequired,\r\n    previousLabel         : PropTypes.node,\r\n    nextLabel             : PropTypes.node,\r\n    breakLabel            : PropTypes.node,\r\n    clickCallback         : PropTypes.func,\r\n    initialSelected       : PropTypes.number,\r\n    forceSelected         : PropTypes.number,\r\n    containerClassName    : PropTypes.string,\r\n    subContainerClassName : PropTypes.string,\r\n    pageClassName         : PropTypes.string,\r\n    pageLinkClassName     : PropTypes.string,\r\n    activeClassName       : PropTypes.string,\r\n    previousClassName     : PropTypes.string,\r\n    nextClassName         : PropTypes.string,\r\n    previousLinkClassName : PropTypes.string,\r\n    nextLinkClassName     : PropTypes.string,\r\n    disabledClassName     : PropTypes.string\r\n  };\r\n\r\n  static defaultProps = {\r\n    pageNum              : 10,\r\n    pageRangeDisplayed   : 2,\r\n    marginPagesDisplayed : 3,\r\n    activeClassName      : \"selected\",\r\n    previousClassName    : \"previous\",\r\n    nextClassName        : \"next\",\r\n    previousLabel        : \"Previous\",\r\n    nextLabel            : \"Next\",\r\n    breakLabel           : \"...\",\r\n    disabledClassName    : \"disabled\"\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selected: props.initialSelected ? props.initialSelected :\r\n                props.forceSelected   ? props.forceSelected :\r\n                0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Call the callback with the initialSelected item:\r\n    if (typeof(this.props.initialSelected) !== 'undefined') {\r\n      this.callCallback(this.props.initialSelected);\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (typeof(nextProps.forceSelected) === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    if (nextProps.forceSelected !== this.state.selected) {\r\n      this.setState({\r\n        selected: nextProps.forceSelected\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePreviousPage = evt => {\r\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n    if (this.state.selected > 0) {\r\n      this.handlePageSelected(this.state.selected - 1, evt);\r\n    }\r\n  };\r\n\r\n  handleNextPage = evt => {\r\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n    if (this.state.selected < this.props.pageNum - 1) {\r\n      this.handlePageSelected(this.state.selected + 1, evt);\r\n    }\r\n  };\r\n\r\n  handlePageSelected = (selected, evt) => {\r\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n\r\n    if (this.state.selected === selected) return;\r\n\r\n    this.setState({selected: selected});\r\n\r\n    // Call the callback with the new selected item:\r\n    this.callCallback(selected);\r\n  };\r\n\r\n  callCallback = (selectedItem) => {\r\n    if (typeof(this.props.clickCallback) !== \"undefined\" &&\r\n        typeof(this.props.clickCallback) === \"function\") {\r\n      this.props.clickCallback({selected: selectedItem});\r\n    }\r\n  };\r\n\r\n  isPageSelected = (index) => {\r\n    return this.state.selected === index;\r\n  };\r\n\r\n  pagination = () => {\r\n    let items = {};\r\n\r\n    if (this.props.pageNum <= this.props.pageRangeDisplayed) {\r\n\r\n      for (let index = 0; index < this.props.pageNum; index++) {\r\n        items['key' + index] = <PageView\r\n          onClick={this.handlePageSelected.bind(null, index)}\r\n          selected={this.isPageSelected(index)}\r\n          pageClassName={this.props.pageClassName}\r\n          pageLinkClassName={this.props.pageLinkClassName}\r\n          activeClassName={this.props.activeClassName}\r\n          page={index + 1} />\r\n      }\r\n\r\n    } else {\r\n\r\n      let leftSide  = (this.props.pageRangeDisplayed / 2);\r\n      let rightSide = (this.props.pageRangeDisplayed - leftSide);\r\n\r\n      if (this.state.selected > this.props.pageNum - this.props.pageRangeDisplayed / 2) {\r\n        rightSide = this.props.pageNum - this.state.selected;\r\n        leftSide  = this.props.pageRangeDisplayed - rightSide;\r\n      }\r\n      else if (this.state.selected < this.props.pageRangeDisplayed / 2) {\r\n        leftSide  = this.state.selected;\r\n        rightSide = this.props.pageRangeDisplayed - leftSide;\r\n      }\r\n\r\n      let index;\r\n      let page;\r\n      let breakView;\r\n\r\n      for (index = 0; index < this.props.pageNum; index++) {\r\n\r\n        page = index + 1;\r\n\r\n        let pageView = (\r\n          <PageView\r\n            onClick={this.handlePageSelected.bind(null, index)}\r\n            selected={this.isPageSelected(index)}\r\n            pageClassName={this.props.pageClassName}\r\n            pageLinkClassName={this.props.pageLinkClassName}\r\n            activeClassName={this.props.activeClassName}\r\n            page={index + 1} />\r\n        );\r\n\r\n        if (page <= this.props.marginPagesDisplayed) {\r\n          items['key' + index] = pageView;\r\n          continue;\r\n        }\r\n\r\n        if (page > this.props.pageNum - this.props.marginPagesDisplayed) {\r\n          items['key' + index] = pageView;\r\n          continue;\r\n        }\r\n\r\n        if ((index >= this.state.selected - leftSide) && (index <= this.state.selected + rightSide)) {\r\n          items['key' + index] = pageView;\r\n          continue;\r\n        }\r\n\r\n        let keys            = Object.keys(items);\r\n        let breakLabelKey   = keys[keys.length - 1];\r\n        let breakLabelValue = items[breakLabelKey];\r\n\r\n        if (this.props.breakLabel && breakLabelValue !== breakView) {\r\n          breakView = (\r\n            <BreakView breakLabel={this.props.breakLabel} />\r\n          );\r\n\r\n          items['key' + index] = breakView;\r\n        }\r\n      }\r\n    }\r\n\r\n    return items;\r\n  };\r\n\r\n  render() {\r\n    let disabled = this.props.disabledClassName;\r\n\r\n    const previousClasses = classNames(this.props.previousClassName,\r\n                                       {disabled: this.state.selected === 0});\r\n\r\n    const nextClasses = classNames(this.props.nextClassName,\r\n                                   {disabled: this.state.selected === this.props.pageNum - 1});\r\n\r\n    return (\r\n      <ul className={this.props.containerClassName}>\r\n        <li onClick={this.handlePreviousPage} className={previousClasses}>\r\n          <a href=\"\" className={this.props.previousLinkClassName}>{this.props.previousLabel}</a>\r\n        </li>\r\n\r\n        {createFragment(this.pagination())}\r\n\r\n        <li onClick={this.handleNextPage} className={nextClasses}>\r\n          <a href=\"\" className={this.props.nextLinkClassName}>{this.props.nextLabel}</a>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n};\r\n"]}